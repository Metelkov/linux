wipefs и как его использовать в Linux?  (уничтожаем / безопасное удаление файлов  wipefs  и  dd  (ниже))

На каждом диске и разделе есть какая-то подписьи метаданные/магические строки (magic strings). 
Метаданные, используются операционной системойдля конфигурирования дисков или прикрепления драйверов 
и монтирования дисков в вашей системе. Вы можете просмотреть такие подписи/метаданные/магические 
строки таблиц разделов, используя команду   wipefs.  

Эта же команда может стереть подписи файловойсистемы, дисковых массивов или подписи таблицы/метаданных. 




Отобразить или показать текущие подписи 

wipefs /dev/sdaИЛИ wipefs /dev/sda1  




Как стереть текущие подписи из /dev/vdb?  -   (Принудительное удаление, даже если файловаясистема смонтирована)  

wipefs --all --force /dev/vdb  




Вы можете создать резервную подпись для файла  

$HOME/wipefs-{devname}-{offset}.bak : wipefs --all --force --backup /dev/vdb 




Примеры возможных выводов данных:

/dev/vdb: 8 bytes were erased at offset0x00000218 (LVM2_member): 4c 56 4d 32 20 30 30 31




Восстановление подписи ext2 из файла резервнойкопии 

~ / wipefs-sdb-0x00000438.bak




Вы также найдете файл резервной копии подписи спомощью следующей командой 

ls: $ sudo ls -l ~/wipefs-*.bak



Примеры возможных выводов данных: 

-rw------- 1 root root 8 Feb 27 18:54/root/wipefs-vdb-0x00000218.bak 




Для восстановления запустите: 

dd if=~/wipefs-vdb-0x00000218.bakof=/dev/vdb seek=$((0x00000218)) bs=1 conv=notrunc 



Примеры возможных выводов данных:

8+0 records in8+0 records out8 bytes copied, 0.00404186 s, 2.0 kB/s  



Очистка всего диска с помощью команды dd Вы также можете использовать команду dd, чтобыстереть подпись с 
дискового устройства, используя следующий синтаксис.  
Синтаксис выглядит следующим образом: 

dd if=/dev/zero of=/dev/vdb bs=1M 



Примеры возможных выводов данных:

4806672384 bytes (4.8 GB, 4.5 GiB) copied,18.0002 s, 267 MB/sdd: error writing '/dev/vdb': 
No space left ondevice5121+0 records in5120+0 records out5368709120 bytes (5.4 GB, 5.0 GiB) 
copied,18.5783 s, 289 MB/s 



ИЛИ  выполните безопасное стирание с помощью   dd  команды, показывающей панель прогресса: 

dd if=/dev/urandom of=/dev/vdb bs=1Mstatus=progress 


Примеры возможных выводов данных:
5348786176 bytes (5.3 GB, 5.0 GiB) copied,249.005 s, 21.5 MB/s dd: error writing '/dev/vdb': 
No space left ondevice5121+0 records in5120+0 records out5368709120 bytes (5.4 GB, 5.0 GiB) 
copied,250.069 s, 21.5 MB/s  



Чтобы уничтожить только разделы: 

if=/dev/zero of=/dev/vdb1 bs=1M  



Чтобы уничтожить только главную загрузочную запись(MBR), запустите: 

dd if=/dev/zero of=/dev/vdb bs=446 count=1
















